<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Área do Candidato - TalentFlow</title>
    <link href="https:/cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https:/fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https:/cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="css/style.css">
</head>
    <body class="bg-theme-candidato">
        <script>
            if (!localStorage.getItem('token')) {
                window.location.href = 'candidato-login.html'; / Mude para o nome exato do seu arquivo de login
            }
        </script>

        <nav class="navbar navbar-expand-lg navbar-dark fixed-top glass-card mx-3 mt-3 rounded-pill" style="border-radius: 50px !important;">
            <div class="container-fluid px-4">
                <a class="navbar-brand fw-bold" href="#"><i class="bi bi-person-workspace me-2"></i>TalentFlow <span class="badge bg-success small">Candidato</span></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#candNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="candNav">
                    <ul class="navbar-nav ms-auto align-items-center gap-3">
                        <li class="nav-item"><a class="nav-link " href="#" onclick="showSection('inicio')">Início</a></li>
                        <li class="nav-item"><a class="nav-link " href="vagas.html">Vagas</a></li>
                        <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('vagas')">Candidaturas</a></li>
                        <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('perfil')">Perfil</a></li>
                        <li class="nav-item"><a class="nav-link" href="#" onclick="showSection('curriculo')">Currículo</a></li>
                        <li class="nav-item ms-3">
                            <a href="javascript:void(0)" onclick="fazerLogout()" class="btn btn-outline-light rounded-pill px-3 btn-sm hover-scale">Sair</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container" style="margin-top: 120px;">
            
            <div id="inicio" class="section-content active">
                <div class="row">
                    <div class="col-md-12 text-center mb-5 fade-in-up">
                        <h2 class="fw-bold display-5">Bem-vindo de volta!</h2>
                        <p class="text-white-50">Aqui está o resumo das suas atividades.</p>
                    </div>
                    <div class="col-md-4">
                        <div class="glass-card p-4 h-100 text-center">
                            <i class="bi bi-briefcase fs-1 text-warning mb-3"></i>
                            <h5>Candidaturas Ativas</h5>
                            <p class="display-6 fw-bold">0</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="glass-card p-4 h-100 text-center">
                            <i class="bi bi-eye fs-1 text-info mb-3"></i>
                            <h5>Visualizações no Perfil</h5>
                            <p class="display-6 fw-bold">0</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="glass-card p-4 h-100 text-center">
                            <i class="bi bi-star fs-1 text-success mb-3"></i>
                            <h5>Vagas Compatíveis</h5>
                            <p class="display-6 fw-bold">0</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="vagas" class="section-content">
                <div class="glass-card p-5 fade-in-up">
                    <div class="d-flex justify-content-between align-items-center border-bottom border-light border-opacity-25 pb-3 mb-4">
                        <h3 class="fw-bold"><i class="bi bi-search me-2"></i>candidaturas</h3>
                        <input type="text" class="form-control form-control-glass w-25" placeholder="Filtrar por área...">
                    </div>
                    <div class="text-center py-5 text-white-50">
                        <i class="bi bi-inbox fs-1 d-block mb-3"></i>
                        <p>Carregando lista de vagas...</p>
                    </div>
                </div>
            </div>

            <div id="perfil" class="section-content">
                <div class="glass-card p-5 fade-in-up auth-card-lg mx-auto">
                    <h3 class="fw-bold mb-4"><i class="bi bi-person-gear me-2"></i>Editar Perfil</h3>
                    <p class="text-white-50 mb-4">Atualize suas informações pessoais e foto.</p>
                    <form>
                        </form>
                </div>
            </div>

            <div id="curriculo" class="section-content">
                <div class="glass-card p-5 fade-in-up">
                    <h3 class="fw-bold mb-4"><i class="bi bi-file-earmark-text me-2"></i>Meu Currículo</h3>
                    <div class="border border-light border-opacity-25 rounded p-5 text-center" style="border-style: dashed !important;">
                        <i class="bi bi-cloud-upload fs-1 mb-3"></i>
                        <p>Nenhum currículo cadastrado ou visualização vazia.</p>
                    </div>
                </div>
            </div>

        </div>

        

        <script src="https:/cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            / Script simples para alternar abas sem recarregar
            function showSection(sectionId) {
                / Remove active de todos
                document.querySelectorAll('.section-content').forEach(el => el.classList.remove('active'));
                document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
                
                / Ativa o selecionado
                document.getElementById(sectionId).classList.add('active');
                
                / Marca o link como ativo (lógica simplificada)
                event.target.classList.add('active');
            }
        </script>
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const token = localStorage.getItem('token');
                const nome = localStorage.getItem('nomeUsuario');

                / 1. Verificação de Segurança (Guard)
                if (!token) {
                    alert('Acesso negado. Por favor, faça login.');
                    window.location.href = 'candidato-login.html';
                    return;
                }

                / 2. Personalização da Interface
                if (nome) {
                    / Atualiza o "Bem-vindo de volta!" para o nome real
                    const welcomeTitle = document.querySelector('#inicio h2');
                    if (welcomeTitle) welcomeTitle.innerText = `Seja bem-vindo, ${nome}!`;
                }
            });

            / 3. Lógica de Logout
            function fazerLogout() {
                / Opcional: Chamar o back-end para deletar o token no banco
                localStorage.clear(); / Limpa token, nome, etc.
                window.location.href = 'index.html';
            }
        </script>
    </body>
</html>